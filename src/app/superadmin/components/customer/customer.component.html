<div class="page-wrapper">

    <!-- Header -->
    <app-header></app-header>

    <div class="container">
        <div class="content-wrapper">
            <superadmin-sidebar></superadmin-sidebar>

            <content>
                <div class="page-top" *ngIf="customer">
                    <div class="client-name">
                        <div class="button-back">
                            <button class="button-transparent" (click)="prevRoute()">
                                <div class="icon">
                                    <img src="../../../../assets/images/icon-arrow-left.svg">
                                </div>

                                Назад
                            </button>
                        </div>

                        <div class="name">
                            {{ customer.fullName }}
                        </div>
                    </div>

                    <div class="client-contacts">
                        <div class="phone">
                            {{ getPhone() }}
                        </div>

                        <div class="button-copy">
                            <button type="button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M15.4286 6.85742H5.71428C4.76751 6.85742 4 7.62493 4 8.57171V18.286C4 19.2327 4.76751 20.0003 5.71428 20.0003H15.4286C16.3753 20.0003 17.1428 19.2327 17.1428 18.286V8.57171C17.1428 7.62493 16.3753 6.85742 15.4286 6.85742ZM16 18.286C16 18.6016 15.7442 18.8574 15.4286 18.8574H5.71428C5.39868 18.8574 5.14285 18.6016 5.14285 18.286V8.57171C5.14285 8.2561 5.39868 8.00027 5.71428 8.00027H15.4286C15.7442 8.00027 16 8.2561 16 8.57171V18.286Z"
                                        fill="#19A067" />
                                    <path
                                        d="M18.2856 4H7.99993C7.05315 4 6.28564 4.76751 6.28564 5.71428C6.28564 6.02989 6.54148 6.28572 6.85708 6.28572C7.17269 6.28572 7.42849 6.02989 7.42849 5.71428C7.42849 5.39868 7.68433 5.14285 7.99993 5.14285H18.2856C18.6012 5.14285 18.8571 5.39868 18.8571 5.71428V16C18.8571 16.3156 18.6012 16.5714 18.2856 16.5714C17.97 16.5714 17.7142 16.8273 17.7142 17.1429C17.7142 17.4585 17.97 17.7143 18.2856 17.7143C19.2324 17.7143 19.9999 16.9468 19.9999 16V5.71428C19.9999 4.76751 19.2324 4 18.2856 4Z"
                                        fill="#19A067" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="page-content" *ngIf="customer">
                    <div class="client-stats">
                        <div class="client-stat-block" [ngClass]="{
                            'role-patient': customer.role == 1,
                            'role-specialist': customer.role == 2,
                            'role-admin': customer.role == 3 }">

                            <div class="title">
                                {{ convertCustomerRole(customer.role) }}
                            </div>
                        </div>

                        <div class="client-stat-block">
                            <div class="title">
                                Сессий
                            </div>

                            <div class="value">
                                {{ customer.sessions.length }}
                            </div>
                        </div>

                        <div class="client-stat-block">
                            <div class="title">
                                Проблем
                            </div>

                            <div class="value">
                                {{ customer.problemsCount }}
                            </div>
                        </div>

                        <div class="client-stat-block">
                            <div class="value">
                                {{ customer.spendOrEarned | number:'':'fr' }} ₽
                            </div>
                        </div>

                        <div class="client-stat-block phone-number">
                            <div class="value">
                                {{ getPhone() }}
                            </div>
                        </div>

                        <div class="client-stat-block">
                            <div class="title">
                                Возвратов
                            </div>

                            <div class="value">
                                {{ customer.refundsCount }}
                            </div>
                        </div>

                        <div class="change-role-button">
                            <button type="button" class="button-green" (click)="toggleRoleListExpand()">
                                Изменить роль

                                <svg [ngClass]="{'expanded': isRoleListExpanded}" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.0001 11.7245L14.1953 7.52925C14.4557 7.2689 14.8778 7.2689 15.1382 7.52925C15.3985 7.7896 15.3985 8.21171 15.1382 8.47206L10.4715 13.1387C10.2111 13.3991 9.78903 13.3991 9.52868 13.1387L4.86201 8.47206C4.60166 8.21171 4.60166 7.7896 4.86201 7.52925C5.12236 7.2689 5.54447 7.2689 5.80482 7.52925L10.0001 11.7245Z" fill="white"/>
                                    
                                    <mask id="mask012342" mask-type="alpha" maskUnits="userSpaceOnUse" x="4" y="7" width="12" height="7">
                                        <path d="M10.0001 11.7245L14.1953 7.52925C14.4557 7.2689 14.8778 7.2689 15.1382 7.52925C15.3985 7.7896 15.3985 8.21171 15.1382 8.47206L10.4715 13.1387C10.2111 13.3991 9.78903 13.3991 9.52868 13.1387L4.86201 8.47206C4.60166 8.21171 4.60166 7.7896 4.86201 7.52925C5.12236 7.2689 5.54447 7.2689 5.80482 7.52925L10.0001 11.7245Z" fill="white"/>
                                    </mask>

                                    <g mask="url(#mask012342)">
                                        <rect width="20" height="20" fill="white"/>
                                    </g>
                                </svg>                                    
                            </button>

                            <div class="roles-expanded" [ngClass]="{'expanded': isRoleListExpanded}">
                                <div class="item selected" (click)="changeCustomerRole(customer.role)">
                                    {{ convertCustomerRole(customer.role) }}
                                </div>

                                <div class="item" *ngFor="let role of getRolesList()" (click)="changeCustomerRole(convertCustomerRoleReverse(role))">
                                    {{ role }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sessions-list" *ngIf="customer">
                        <div class="sessions-list-item session-active" *ngFor="let session of customer.sessions"
                            [ngClass]="{
                            'session-waiting': session.sessionStatus == 1 && !session.isClientClose && session.isSpecialistClose,
                            'session-active': session.sessionStatus == 1 && !session.isClientClose && !session.isSpecialistClose,
                            'session-success': session.sessionStatus == 2,
                            'session-refund': session.sessionStatus == 3
                        }">
                            <div class="session-info">
                                <div class="session-date">
                                    <div class="day">{{ session.sessionDate | date: 'd' }}</div>
                                    <div class="month">{{ normalizeMonth(session.sessionDate | date: 'MMM') }}</div>
                                </div>

                                <div class="problem-info">
                                    <div class="title"
                                        *ngIf="session.sessionStatus == 1 && !session.isClientClose && session.isSpecialistClose">
                                        <div class="title-inner">
                                            <div class="icon">
                                                <svg width="12" height="13" viewBox="0 0 12 13" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M6 11.9C8.98234 11.9 11.4 9.48234 11.4 6.5C11.4 3.51766 8.98234 1.1 6 1.1C3.01766 1.1 0.6 3.51766 0.6 6.5C0.6 9.48234 3.01766 11.9 6 11.9ZM6 12.5C9.31371 12.5 12 9.81371 12 6.5C12 3.18629 9.31371 0.5 6 0.5C2.68629 0.5 0 3.18629 0 6.5C0 9.81371 2.68629 12.5 6 12.5Z"
                                                        fill="#9EACA9" />
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M5.4 3.2H6V6.07574L8.91213 8.98787L8.48787 9.41213L5.4 6.32426V3.2Z"
                                                        fill="#9EACA9" />
                                                </svg>
                                            </div>

                                            <div class="time">
                                                <countdown units="Hours | Minutes | Seconds"
                                                    [end]="getEndDate(session.specialistCloseDate)" divider=":"
                                                    (reached)="reloadData($event)"></countdown>
                                            </div>

                                            <div>
                                                Ожидаем клиента
                                            </div>
                                        </div>
                                    </div>

                                    <div class="title"
                                        *ngIf="session.sessionStatus == 1 && !session.isClientClose && !session.isSpecialistClose">
                                        Активная сессия
                                    </div>

                                    <div class="title" *ngIf="session.sessionStatus == 2">
                                        + {{ session.reward | number:'':'fr' }} ₽
                                    </div>

                                    <div class="title" *ngIf="session.sessionStatus == 3">
                                        Возврат
                                    </div>

                                    <div class="text">
                                        {{ session.problemText }}
                                    </div>
                                </div>
                            </div>

                            <div class="session-info-mobile">
                                <div class="problem-text">
                                    {{ session.problemText }}
                                </div>
                            </div>

                            <div class="session-actions">
                                <div class="session-action problem-images">
                                    <div class="title">
                                        Образов
                                    </div>

                                    <div class="icon">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                                <path
                                                    d="M14.2022 9.02039C14.3622 8.80359 14.5294 8.57959 14.6795 8.34332C15.1007 7.68944 15.3273 6.92934 15.3331 6.15159C15.3489 5.38736 15.2548 4.62483 15.0539 3.88732C14.7845 2.9706 14.2252 2.16592 13.4598 1.59399C11.9545 0.414256 10.5473 -0.0748113 8.90272 0.00918875C8.03508 0.0691144 7.17297 0.192286 6.32325 0.377722C5.11979 0.619856 4.24646 1.04279 3.65152 1.67052C3.18014 2.17274 2.8161 2.7658 2.58166 3.41346C2.48254 3.6984 2.40175 3.98939 2.33979 4.28466L2.31819 4.37772C2.262 4.58551 2.18619 4.78748 2.09179 4.98092C2.03659 5.10439 1.98166 5.22759 1.93392 5.35426C1.8721 5.49509 1.8474 5.64943 1.86219 5.80252C1.91638 6.04077 2.05448 6.25156 2.25126 6.39639C2.38219 6.51639 2.46806 6.60039 2.46886 6.67719C2.45853 6.717 2.44283 6.75522 2.42219 6.79079C2.10283 7.46397 1.71148 8.10058 1.25499 8.68946C1.06352 8.92332 0.862723 9.19612 0.903523 9.47346C0.961654 9.68373 1.10055 9.86249 1.28992 9.97079C1.3781 10.0316 1.47112 10.0852 1.56806 10.1308C1.68299 10.1895 1.87579 10.2876 1.88806 10.358C1.90529 10.4478 1.89516 10.5407 1.85899 10.6247C1.81926 10.7079 1.77899 10.7801 1.74299 10.8425C1.63846 11.0271 1.48139 11.3055 1.72806 11.5132C1.78566 11.5641 1.88406 11.6415 1.97419 11.7103C1.90758 11.8276 1.87767 11.9622 1.88832 12.0967C1.90287 12.201 1.95966 12.2947 2.04539 12.3559C2.10512 12.3983 2.16886 12.4359 2.23206 12.4711C2.38886 12.5607 2.44992 12.6023 2.47206 12.6844C2.48626 12.7929 2.47643 12.9033 2.44326 13.0076C2.42779 13.0777 2.41286 13.1476 2.40352 13.2175C2.37663 13.46 2.40724 13.7055 2.49286 13.934C2.63075 14.4408 3.1415 14.7507 3.65472 14.6391C4.41615 14.4555 5.16711 14.2309 5.90432 13.9663C6.50379 14.3201 6.88272 15.3916 6.98139 15.7935C7.01061 15.9127 7.11752 15.9966 7.24032 15.9967L13.9337 15.9783C14.0181 15.978 14.0974 15.9378 14.1475 15.8698C14.1976 15.8018 14.2125 15.7142 14.1878 15.6335C14.1218 15.4514 14.0303 15.2797 13.9161 15.1233C13.853 15.0329 13.796 14.9383 13.7454 14.8404C13.6253 14.5944 13.5246 14.3394 13.4441 14.0777C13.2918 13.5626 13.1866 13.0348 13.1299 12.5007C13.0354 11.7032 13.1558 10.8951 13.4787 10.1599C13.6762 9.75398 13.9188 9.37173 14.2022 9.02039ZM12.6001 12.5671C12.66 13.1332 12.7715 13.6926 12.9331 14.2385C13.0216 14.5259 13.1321 14.806 13.2638 15.0764C13.3245 15.1957 13.3933 15.3107 13.4697 15.4207C13.4758 15.4303 13.4822 15.4399 13.4886 15.4495L7.44192 15.4668C7.26445 14.834 6.9427 14.251 6.50192 13.7636L6.69925 13.6945C6.89899 13.6244 7.04965 13.5716 7.12592 13.5479C8.26912 13.1889 8.84085 12.6695 8.82539 12.0036C8.82205 11.8587 8.70363 11.743 8.55872 11.7431H8.55179C8.4046 11.7466 8.28809 11.8687 8.29152 12.0159C8.29792 12.2905 8.07312 12.6911 6.96512 13.0388C6.88512 13.0636 6.72992 13.1188 6.52299 13.1908C6.33205 13.2577 6.09632 13.3401 5.83925 13.4281H5.83765C5.08693 13.6999 4.32208 13.9309 3.54646 14.1201C3.29688 14.1673 3.05439 14.0097 2.99606 13.7625C2.93849 13.6127 2.91649 13.4516 2.93179 13.2919C2.93899 13.2364 2.95152 13.1812 2.96379 13.126C3.0185 12.9409 3.02711 12.7453 2.98886 12.5561C2.91231 12.3113 2.73272 12.112 2.49712 12.0105C2.47819 11.9999 2.45899 11.9889 2.44006 11.9777C2.46861 11.9194 2.50282 11.864 2.54219 11.8124C2.58655 11.7557 2.60614 11.6836 2.59649 11.6123C2.58685 11.5409 2.5488 11.4766 2.49099 11.4337C2.42699 11.3863 2.27446 11.2737 2.16512 11.1847C2.17846 11.1599 2.19392 11.1313 2.20779 11.1079C2.24886 11.0356 2.29579 10.9521 2.34112 10.8564C2.42651 10.67 2.45159 10.4617 2.41286 10.2604C2.35072 9.93319 2.03952 9.77372 1.80992 9.65746C1.73263 9.62081 1.65851 9.57782 1.58832 9.52892C1.5329 9.49046 1.4804 9.44795 1.43126 9.40172C1.43126 9.36172 1.47366 9.26412 1.67899 9.01372C2.15555 8.39945 2.56407 7.7353 2.89739 7.03292C2.96156 6.92297 2.99748 6.79882 3.00192 6.67159C2.97453 6.40323 2.83199 6.15998 2.61126 6.00492C2.50459 5.90626 2.40166 5.81292 2.39019 5.73132C2.39119 5.6668 2.40573 5.60321 2.43286 5.54466C2.47659 5.42866 2.52752 5.31532 2.57846 5.20172C2.68721 4.97732 2.77393 4.74288 2.83739 4.50172L2.85926 4.40786C2.91624 4.13442 2.99061 3.86489 3.08192 3.60092C3.29114 3.02009 3.61671 2.48807 4.03872 2.03746C4.55525 1.49346 5.33712 1.12012 6.42832 0.900389C7.25239 0.720347 8.08846 0.600476 8.92992 0.541722C10.4387 0.465989 11.7331 0.918789 13.1302 2.01426C13.8087 2.51441 14.3041 3.22368 14.5401 4.03292C14.7272 4.72052 14.8146 5.43141 14.7998 6.14386C14.7951 6.82309 14.5972 7.48697 14.2294 8.05799C14.0905 8.27746 13.9299 8.49346 13.7761 8.70226C13.468 9.08694 13.2048 9.50546 12.9915 9.94972C12.63 10.772 12.4949 11.676 12.6001 12.5681V12.5671Z"
                                                    fill="#894AE7" />
                                                <path
                                                    d="M13.7791 7.77286C14.0935 7.28499 14.2626 6.71777 14.2668 6.13739C14.2809 5.47674 14.2001 4.81749 14.0268 4.17979C13.8207 3.48021 13.3907 2.86761 12.8028 2.43606C11.5015 1.41499 10.342 1.00566 8.95695 1.07606C8.14177 1.13346 7.33183 1.24985 6.53348 1.42432C5.56708 1.61899 4.85801 1.94886 4.42681 2.40539C4.05462 2.8031 3.76751 3.27259 3.58308 3.78513C3.50121 4.00699 3.37241 4.56006 3.35615 4.62993C3.29615 4.92806 3.14735 5.95073 3.75241 6.59233C4.13615 6.99899 4.72255 7.14966 5.49481 7.0406L5.85348 6.98939C6.51577 6.86769 7.18758 6.80522 7.86095 6.80273C7.86308 6.80273 7.86495 6.80406 7.86735 6.80406C7.86975 6.80406 7.87055 6.80406 7.87242 6.80406C8.35637 6.80855 8.81935 7.00228 9.16228 7.34379C9.85135 8.01766 10.6151 8.7646 11.8092 8.7646C12.1141 8.76206 12.4173 8.71837 12.7106 8.63473C13.148 8.46604 13.5216 8.16466 13.7791 7.77286ZM8.13348 6.29446V6.13446C8.13348 5.98718 8.01409 5.86779 7.86682 5.86779C7.71954 5.86779 7.60015 5.98718 7.60015 6.13446V6.26779C7.43161 6.27019 7.25348 6.28139 7.06681 6.29793V5.86779C7.06681 5.27869 7.54438 4.80113 8.13348 4.80113H9.73348C10.3226 4.80113 10.8001 5.27869 10.8001 5.86779V7.9758C10.6118 7.87493 10.4332 7.75673 10.2668 7.62273V6.13446C10.2668 5.98718 10.1474 5.86779 10.0001 5.86779C9.85287 5.86779 9.73348 5.98718 9.73348 6.13446V7.15286C9.66815 7.09073 9.60202 7.02726 9.53482 6.96139C9.15941 6.58298 8.66391 6.34716 8.13348 6.29446ZM8.13348 3.46779C8.13348 3.02596 8.49165 2.66779 8.93348 2.66779C9.37531 2.66779 9.73348 3.02596 9.73348 3.46779C9.73348 3.90962 9.37531 4.26779 8.93348 4.26779C8.49165 4.26779 8.13348 3.90962 8.13348 3.46779ZM12.5684 8.11926C12.1683 8.24273 11.7433 8.26237 11.3335 8.17633V5.86779C11.3325 5.07869 10.7564 4.40814 9.97642 4.28833C10.1631 4.05547 10.2655 3.76625 10.2668 3.46779C10.2668 2.73141 9.66986 2.13446 8.93348 2.13446C8.1971 2.13446 7.60015 2.73141 7.60015 3.46779C7.60148 3.76625 7.70384 4.05547 7.89055 4.28833C7.1106 4.40814 6.53446 5.07869 6.53348 5.86779V6.35766C6.29348 6.38833 6.04655 6.42273 5.77721 6.46139L5.41961 6.51233C4.82788 6.59659 4.39775 6.49979 4.13961 6.22646C3.79855 5.86459 3.78121 5.21899 3.87695 4.74273C3.91401 4.58273 4.02335 4.13126 4.08281 3.96939C4.24245 3.52467 4.49097 3.1171 4.81321 2.77152C5.16841 2.39712 5.78308 2.11979 6.64015 1.94779C7.41235 1.77863 8.1957 1.6651 8.98415 1.60806C10.2375 1.54459 11.2641 1.90672 12.474 2.85606C12.9721 3.2189 13.3374 3.73504 13.514 4.32539C13.6731 4.91331 13.747 5.52102 13.7335 6.12993C13.7304 6.6118 13.5901 7.08282 13.329 7.4878C13.1419 7.76749 12.8777 7.98686 12.5684 8.11926Z"
                                                    fill="#894AE7" />
                                            </g>

                                            <defs>
                                                <clipPath id="clip0">
                                                    <rect width="16" height="16" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg>
                                    </div>

                                    <div class="value" *ngIf="!session.isAllImagesFromOneSpecialist">
                                        {{ session.sessionImagesCount }}/{{ session.totalImagesCount }}
                                    </div>

                                    <div class="value" *ngIf="session.isAllImagesFromOneSpecialist">
                                        {{ session.sessionImagesCount }}
                                    </div>
                                </div>

                                <div class="session-action problem-resources">
                                    <div class=" title">
                                        Ресурсов
                                    </div>

                                    <div class="icon">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0)">
                                                <path
                                                    d="M0.525604 9.97097C0.613408 10.0318 0.706077 10.0853 0.802671 10.131C0.917871 10.1899 1.1112 10.2886 1.12454 10.3576C1.14153 10.4488 1.13066 10.5429 1.09334 10.6278C1.0536 10.7131 1.01174 10.7864 0.976004 10.8499C0.878138 11.0222 0.714938 11.311 0.961338 11.5126C1.01894 11.5659 1.1184 11.643 1.20934 11.7126C1.14252 11.8293 1.11223 11.9633 1.1224 12.0974C1.13662 12.2029 1.19385 12.2979 1.28054 12.3598C1.33974 12.4014 1.40294 12.4376 1.46534 12.4731C1.62294 12.563 1.68454 12.6046 1.70534 12.6883C1.7202 12.7956 1.71109 12.9049 1.67867 13.0083C1.6632 13.0798 1.64774 13.1512 1.63894 13.2216C1.61243 13.4646 1.64236 13.7105 1.7264 13.94C1.84625 14.3637 2.2294 14.6589 2.6696 14.6667C2.7431 14.6665 2.81637 14.6587 2.88827 14.6435C3.65007 14.4629 4.40075 14.2382 5.13654 13.9707C5.73734 14.3232 6.11681 15.3952 6.21574 15.7976C6.24528 15.9166 6.3521 16.0001 6.47467 16L13.168 15.9814C13.2528 15.9812 13.3325 15.9407 13.3826 15.8723C13.4328 15.8038 13.4473 15.7156 13.4219 15.6347C13.3558 15.4541 13.2647 15.2835 13.1515 15.128C13.0876 15.0361 13.03 14.94 12.9789 14.8403C12.8585 14.5957 12.7578 14.3418 12.6779 14.0811C12.5257 13.5658 12.4202 13.0378 12.3627 12.5035C12.2712 11.7218 12.3862 10.9299 12.696 10.2064C13.6497 9.34258 14.2146 8.13045 14.2626 6.84454C14.3105 5.55864 13.8376 4.30777 12.9509 3.37524L13.3709 2.93337H14.5333C14.6041 2.93336 14.6719 2.90525 14.7219 2.85524L15.7885 1.78857C15.8648 1.71231 15.8876 1.59763 15.8463 1.498C15.8051 1.39837 15.7078 1.33339 15.6 1.33337H14.5333V0.266705C14.5333 0.158866 14.4683 0.061656 14.3687 0.0203909C14.2691 -0.0208741 14.1544 0.00192958 14.0781 0.0781717L13.0115 1.14484C12.9615 1.19484 12.9334 1.26265 12.9333 1.33337V2.61977L12.5659 3.0075C10.6961 1.41669 7.92759 1.49215 6.14726 3.18246C4.36693 4.87278 4.14805 7.63366 5.63981 9.58337C7.13156 11.5331 9.8536 12.0438 11.9507 10.7675C11.8025 11.356 11.7629 11.9666 11.8339 12.5694C11.8953 13.1352 12.0076 13.6944 12.1693 14.24C12.2571 14.5268 12.3677 14.806 12.5003 15.075C12.5611 15.1952 12.6301 15.311 12.7069 15.4216L12.7248 15.4483L6.67627 15.4667C6.49914 14.8342 6.17785 14.2513 5.73761 13.7638L5.97761 13.6795C6.15601 13.6174 6.29041 13.5704 6.35921 13.5483C7.50187 13.187 8.07307 12.6667 8.05761 12.0016C8.05699 11.9309 8.02791 11.8635 7.97692 11.8145C7.92593 11.7655 7.85734 11.7391 7.78667 11.7414C7.63948 11.7449 7.52298 11.867 7.52641 12.0142C7.53281 12.2886 7.30801 12.6888 6.1992 13.0395C6.12694 13.0627 5.98801 13.1112 5.80374 13.1755C5.60534 13.2448 5.35334 13.3331 5.07494 13.4275H5.07334C4.32286 13.7025 3.55714 13.934 2.78 14.1208C2.53142 14.1683 2.28952 14.0116 2.2312 13.7654C2.17442 13.6135 2.15298 13.4507 2.16854 13.2894C2.17574 13.2336 2.18827 13.1779 2.20054 13.1222C2.25478 12.9379 2.26265 12.743 2.22347 12.555C2.14609 12.3101 1.96602 12.1111 1.73014 12.0096C1.71147 11.9992 1.69307 11.9886 1.67467 11.9779C1.70356 11.9198 1.73803 11.8646 1.7776 11.8131C1.82231 11.7564 1.8421 11.684 1.83245 11.6124C1.8228 11.5408 1.78454 11.4762 1.7264 11.4334C1.6624 11.3864 1.51147 11.2734 1.4008 11.1843C1.4136 11.1611 1.42747 11.1355 1.44107 11.1126C1.48294 11.039 1.53094 10.9526 1.57734 10.855C1.66186 10.6681 1.68672 10.4597 1.64854 10.2582C1.58454 9.93284 1.2728 9.77337 1.04534 9.6571C0.968703 9.62065 0.895209 9.57792 0.825604 9.52937C0.768458 9.4911 0.714905 9.44773 0.665604 9.39977C0.665604 9.3595 0.708804 9.26164 0.912004 9.01417C1.38963 8.39941 1.79914 7.73463 2.13334 7.0315C2.19607 6.92132 2.23137 6.79767 2.23627 6.67097C2.20903 6.40283 2.06692 6.15965 1.84667 6.0043C1.74 5.90537 1.63707 5.81204 1.62534 5.72564C1.62745 5.6626 1.64147 5.60053 1.66667 5.5427C1.71014 5.42857 1.76054 5.31657 1.81067 5.20457C1.92016 4.97895 2.00758 4.74328 2.07174 4.50084L2.0984 4.38724C2.15504 4.12062 2.22798 3.85773 2.3168 3.60004C2.5272 3.01993 2.85264 2.48831 3.2736 2.0371C3.78374 1.49737 4.58667 1.1155 5.664 0.901372C6.48799 0.720488 7.32408 0.59999 8.16561 0.540838C9.09173 0.486652 10.0166 0.666201 10.8552 1.06297C10.9881 1.12257 11.1443 1.06446 11.2059 0.932455C11.2676 0.800452 11.2118 0.643419 11.0808 0.579772C10.1632 0.145769 9.15123 -0.0507345 8.13787 0.00830503C7.27025 0.0685263 6.40821 0.192235 5.55867 0.378438C4.35627 0.618438 3.48214 1.04004 2.88614 1.67044C2.41547 2.17392 2.05155 2.76743 1.81627 3.41524C1.72011 3.69394 1.64121 3.9783 1.58 4.2667L1.55334 4.37924C1.49651 4.5887 1.4199 4.79228 1.32454 4.98724C1.2712 5.10857 1.21627 5.2299 1.168 5.3563C1.10727 5.49641 1.08323 5.64967 1.09814 5.80164C1.15177 6.0407 1.28982 6.2524 1.48694 6.3979C1.61707 6.51737 1.70267 6.60164 1.70374 6.67497C1.6941 6.71548 1.67885 6.75443 1.6584 6.7907C1.33899 7.4635 0.947545 8.09966 0.490938 8.68804C0.297871 8.92297 0.0957376 9.19711 0.138138 9.47151C0.19505 9.68324 0.334668 9.86321 0.525604 9.97097ZM14.9563 1.8667L14.4229 2.40004H13.876L14.3827 1.8667H14.9563ZM13.4667 1.44377L14 0.910438V1.49337L13.4667 2.05684V1.44377ZM5.20001 6.6667C5.19863 5.01015 6.15699 3.50277 7.65764 2.80118C9.1583 2.09959 10.9295 2.33083 12.1997 3.39417L11.8328 3.78137C10.2569 2.46387 7.92052 2.6314 6.54869 4.16028C5.17685 5.68916 5.26254 8.02993 6.74248 9.45442C8.22243 10.8789 10.5648 10.8752 12.0402 9.44597C13.5156 8.01677 13.5938 5.67573 12.2171 4.15124L12.5843 3.7635C13.8871 5.1623 14.0998 7.2572 13.1047 8.88931C12.1097 10.5214 10.15 11.2919 8.30983 10.7745C6.46966 10.2571 5.19869 8.57823 5.20001 6.6667ZM10.5333 6.6667C10.5333 7.25581 10.0558 7.73337 9.46667 7.73337C8.87757 7.73337 8.40001 7.25581 8.40001 6.6667C8.40001 6.0776 8.87757 5.60004 9.46667 5.60004C9.64662 5.60123 9.82326 5.64851 9.97974 5.73737L9.27307 6.48404C9.17175 6.59096 9.17628 6.75978 9.28321 6.8611C9.39013 6.96243 9.55895 6.95789 9.66027 6.85097L10.3683 6.1043C10.4752 6.27248 10.5324 6.46743 10.5333 6.6667ZM10.3576 5.33844C9.66129 4.86567 8.7188 5.00574 8.19006 5.66057C7.66132 6.3154 7.72296 7.26624 8.33182 7.84733C8.94067 8.42841 9.89336 8.44563 10.5228 7.88692C11.1523 7.32821 11.2482 6.38021 10.7435 5.7067L11.1152 5.31444C11.8436 6.19274 11.7633 7.48612 10.9317 8.26748C10.1001 9.04883 8.80425 9.0486 7.97296 8.26695C7.14167 7.4853 7.06176 6.19189 7.79051 5.31385C8.51925 4.43581 9.80524 4.27606 10.7267 4.9491L10.3576 5.33844ZM11.0952 4.55977C9.96874 3.68946 8.3577 3.8553 7.43217 4.93686C6.50664 6.01841 6.59175 7.63572 7.62569 8.61416C8.65963 9.5926 10.2792 9.58843 11.3081 8.60469C12.337 7.62095 12.4138 6.00322 11.4827 4.92644L11.8499 4.5387C12.982 5.81588 12.9059 7.75855 11.6772 8.9432C10.4486 10.1279 8.50448 10.1332 7.26938 8.95528C6.03429 7.77738 5.94751 5.83515 7.07263 4.55179C8.19775 3.26843 10.1346 3.10035 11.464 4.1707L11.0952 4.55977Z"
                                                    fill="#2E9AB5" />
                                                <path
                                                    d="M3.11106 4.74531L3.13773 4.62985C3.18446 4.40695 3.24403 4.18694 3.31613 3.97091C3.47689 3.52579 3.72576 3.11765 4.04786 2.77091C4.39353 2.44499 4.81666 2.21268 5.27719 2.09598C5.36832 2.06816 5.43768 1.99384 5.45915 1.90101C5.48062 1.80818 5.45094 1.71095 5.38129 1.64594C5.31163 1.58094 5.21259 1.55803 5.12146 1.58584C4.57209 1.72877 4.06881 2.01081 3.66013 2.40478C3.28864 2.80399 3.00158 3.2741 2.81613 3.78691C2.73619 4.02353 2.6703 4.26466 2.61879 4.50905L2.59213 4.62451C2.56748 4.71836 2.59576 4.8182 2.66596 4.88518C2.73617 4.95217 2.83722 4.97573 2.92981 4.9467C3.0224 4.91768 3.09192 4.84065 3.11133 4.74558L3.11106 4.74531Z"
                                                    fill="#2E9AB5" />
                                                <path
                                                    d="M2.53363 5.86732C2.68091 5.86732 2.8003 5.74793 2.8003 5.60065C2.8003 5.45337 2.68091 5.33398 2.53363 5.33398C2.38636 5.33398 2.26697 5.45337 2.26697 5.60065C2.26697 5.74793 2.38636 5.86732 2.53363 5.86732Z"
                                                    fill="#2E9AB5" />
                                            </g>

                                            <defs>
                                                <clipPath id="clip0">
                                                    <rect width="16" height="16" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg>
                                    </div>

                                    <div class="value" *ngIf="!session.isAllResourcesFromOneSpecialist">
                                        {{ session.sessionResourcesCount }}/{{ session.totalResourcesCount }}
                                    </div>

                                    <div class="value" *ngIf="session.isAllResourcesFromOneSpecialist">
                                        {{ session.sessionResourcesCount }}
                                    </div>
                                </div>

                                <div class="session-action review-badge" 
                                    *ngIf="session.sessionStatus == 2 || session.sessionStatus == 3" 
                                    [ngClass]="
                                        {
                                            'positive': session.reviewScore > 3,
                                            'neutral': session.reviewScore == 3,
                                            'negative': session.review && session.review.score && session.reviewScore < 3,
                                            'empty': !session.review
                                        }">

                                    <div class="title">
                                        Отзыв
                                    </div>
                                    
                                    <div class="value" *ngIf="!session.review">
                                        -/-
                                    </div>

                                    <div class="value" *ngIf="session.review">
                                        {{ session.reviewScore }}/5
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </content>
        </div>
    </div>

    <!-- Footer -->
    <app-footer></app-footer>
</div>